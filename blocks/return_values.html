<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Ruby for Beginners">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="BEd2YAbpSQrRqU2-5wUifTTzvqTMGLLE269b0JZTfCs" />

    <title>Block return values | Ruby for Beginners</title>

    <link href="../assets/stylesheets/monstas-6495f720.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/png" href="/assets/images/favicon-870787d6.png" />
  </head>

  <body>
    <nav class="page-nav"></nav>
    <nav class="page-nav"></nav>

    <div>
      <nav class="toc">
        <h1>Contents</h1>
        <ul>
  <li>
    <a href="index.html">
      Ruby For Beginners
    </a>
  </li>
  <li>
    <a href="preface.html">
      Preface
    </a>
  </li>
  <li>
    <a href="creation.html">
      Programming is creation
    </a>
  </li>
  <li class="directory">
    <a href="exercises.html">
      Exercises (old)
    </a>
    <ul>
      <li>
        <a href="exercises/numbers.html">
          Working with Numbers
        </a>
      </li>
      <li>
        <a href="exercises/strings.html">
          Working with Strings
        </a>
      </li>
      <li>
        <a href="exercises/arrays_1.html">
          Working with Arrays (1)
        </a>
      </li>
      <li>
        <a href="exercises/hashes_1.html">
          Working with Hashes (1)
        </a>
      </li>
      <li>
        <a href="exercises/methods_1.html">
          Defining methods
        </a>
      </li>
      <li>
        <a href="exercises/arrays_2.html">
          Working with Arrays (2)
        </a>
      </li>
      <li>
        <a href="exercises/nested_arrays.html">
          Working with Nested Arrays
        </a>
      </li>
      <li>
        <a href="exercises/hashes_2.html">
          Working with Hashes (2)
        </a>
      </li>
      <li>
        <a href="exercises/truthiness.html">
          Truthiness
        </a>
      </li>
      <li>
        <a href="exercises/email.html">
          The Email Class
        </a>
      </li>
      <li>
        <a href="exercises/mailbox.html">
          The Mailbox Class
        </a>
      </li>
      <li>
        <a href="exercises/mailbox_text.html">
          The Mailbox Text Formatter
        </a>
      </li>
      <li>
        <a href="exercises/mailbox_html.html">
          The Mailbox Html Formatter
        </a>
      </li>
      <li>
        <a href="exercises/mailbox_file.html">
          Storing our HTML to a File
        </a>
      </li>
      <li>
        <a href="exercises/mailbox_csv.html">
          Reading from a CSV File
        </a>
      </li>
    </ul>
  </li>
</ul>
      </nav>
      <article>
        <nav class="menu"><a href="#"></a></nav>
        <h1>Block return values</h1>

<p>Remember that we said a block returns a value just like methods do?  So far, in
our two examples above, we did not do anything with the return values of the
block.</p>

<p>Here&rsquo;s an example that does that:</p>
<pre class="highlight ruby"><code><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nf">collect</span> <span class="p">{</span> <span class="o">|</span><span class="n">number</span><span class="o">|</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">}</span>
</code></pre>

<p>This will take the array of numbers, and transform it into <em>another</em> array.</p>

<p>It does this by calling the method <code>collect</code> on the original array, which calls
the given block for each of the elements, and collects each of the return
values returned by the block. The resulting array is then returned by the
method <code>collect</code>, and printed to the screen.</p>

<p>In other words, the method <code>collect</code> uses the block as a transformer. It takes
each element of the array, passes it to the block in order to transform it
to something else, and then keeps all the transformed values in a <em>new</em> array
that the method <code>collect</code> then eventually returns.</p>

<p>Note that the method <code>collect</code> has an alias, which is <code>map</code>. These are exactly
the same methods. Many programmers prefer <code>map</code> over <code>collect</code> because it is
shorter, and also more commonly used in other languages. However, in our study
groups we use <code>collect</code> more often, because it simply expresses more clearly
what the method does.</p>

<p class="hint">
Use the method <code>collect</code> to transform an array into another array.
</p>

<p>Here&rsquo;s another example that uses the return value of the block, can you guess
what it does?</p>
<pre class="highlight ruby"><code><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nf">select</span> <span class="p">{</span> <span class="o">|</span><span class="n">number</span><span class="o">|</span> <span class="n">number</span><span class="p">.</span><span class="nf">odd?</span> <span class="p">}</span>
</code></pre>

<p>In this case, the method <code>select</code> uses the block in a different way: as a
filter, or criterion, to select values out of the array, and then return a new
array with the selected values.</p>

<p>Let&rsquo;s walk through this step by step, under the microscope:</p>

<ul>
<li>We create an array <code>[1, 2, 3, 4, 5]</code>.</li>
<li>We then call the method <code>select</code> on it, and pass our block as a filter
criterion.</li>
<li>Now, the method <code>select</code> calls our block for each of the numbers.</li>
<li>It first calls the block passing the number <code>1</code>.</li>
<li>We now are inside the block, and a local variable <code>number</code> is assigned the
object that was passed as an argument, which is the number <code>1</code>.</li>
<li>Inside our block we now call the method <code>odd?</code> on this number, and of course,
because <code>1</code> is odd, this will return <code>true</code>.</li>
<li>Since this is the only, and thus, last statement in the body of our block,
our block also returns <code>true</code> to the method <code>select</code>. <code>select</code> therefore will
<em>keep</em> (&ldquo;select&rdquo;) the number <code>1</code>.</li>
<li>It then calls the block again, this time passing the number <code>2</code>. Of course,
because this is not an odd number, the method <code>odd?</code> and therfore our block
will return <code>false</code> back the the method <code>select</code>. Therefore it <em>discards</em> this
element.</li>
<li>It keeps doing this for each of the remaining elements in the array, and
eventually has this array: <code>[1, 3, 5]</code></li>
<li>The method <code>select</code> then returns this array and Ruby will pass it to the
method <code>p</code>, which prints the array out to the screen.</li>
</ul>

<p>Thus, the code above prints out <code>[1, 3, 5]</code>.</p>

<p class="hint">
Use the method <code>select</code> to select a new array with values that match a criteria defined by the block.
</p>

<p>Here&rsquo;s another example of a method that uses the block as a criterion:</p>
<pre class="highlight ruby"><code><span class="nb">p</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nf">detect</span> <span class="p">{</span> <span class="o">|</span><span class="n">number</span><span class="o">|</span> <span class="n">number</span><span class="p">.</span><span class="nf">even?</span> <span class="p">}</span>
</code></pre>

<p>Again, <code>detect</code> will pass each of the elements of the array to the block, one
by one, and check the return value of the block. However, as soon as the block
returns something truthy (something that is &ldquo;equivalent to true&rdquo;), the method
<code>detect</code> will return the current object itself. Therefore, this will print out
<code>2</code>: the first number in the array that is even.</p>

        <nav class="page-nav"></nav>
        <nav class="page-nav"></nav>
      </article>
    </div>

    <footer>
      <ul>
        <li><a href="http://rubymonstas.org">Ruby Monstas</a></li>
        <li><a href="http://ruby-for-beginners.rubymonstas.org">Ruby For Beginners</a></li>
        <li><a href="http://webapps-for-beginners.rubymonstas.org">Webapps For Beginners</a></li>
        <li><a href="http://testing-for-beginners.rubymonstas.org">Testing For Beginners</a></li>
        <li><a href="mailto:ruby.monsters@gmail.com">Email</a></li>
        <li><a href="https://twitter.com/rubymonstas">Twitter</a></li>
        <li><a href="https://github.com/rubymonsters">GitHub</a></li>
        <li><a href="https://creativecommons.org/licenses/by-sa/2.0/" rel="license cc:license">License</a></li>
        <li><a href="http://foundation.travis-ci.org/imprint/">Imprint</a></li>
      </ul>
    </footer>

    <script src="../assets/javascripts/modernizr-4c875d94.js" type="text/javascript"></script>
    <script src="../assets/javascripts/monstas-79961449.js" type="text/javascript"></script>
  </body>
</html>
