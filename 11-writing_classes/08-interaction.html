<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Ruby for Beginners">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="../assets/stylesheets/monstas-cd25157c.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="../assets/images/favicon-870787d6.png" />
  </head>

  <body>

    <div>
      <nav class="toc">
        <h1>Contents</h1>
        <ul>
<li>
<a href="#interacting-objects">Interacting Objects</a>
</li>
</ul>


      </nav>
      <article>
        <nav class="menu"><a href="#"></a></nav>
        <h1>Interacting Objects</h1>

<p>We&rsquo;re now able to create our own objects. However, they don&rsquo;t do a whole lot,
yet, right? Why not create two people, and let them greet each other.</p>

<p>Let&rsquo;s see.</p>

<p>Here&rsquo;s what we&rsquo;d like to achieve:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">name</span>
    <span class="vi">@name</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Anja"</span><span class="p">)</span>
<span class="n">friend</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Carla"</span><span class="p">)</span>

<span class="n">person</span><span class="p">.</span><span class="nf">greet</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</code></pre></div>
<p>We&rsquo;d like this to print out the following for starters:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="no">Hi</span> <span class="no">Carla</span><span class="o">!</span>
</code></pre></div>
<p>If we run the code above we&rsquo;ll get an error message that tells us what to do next:</p>
<div class="highlight"><pre class="highlight plaintext"><code>NoMethodError: undefined method `greet' for #&lt;Person:0x007fbb5e9c88c8 @name="Anja"&gt;
</code></pre></div>
<p>Right, we need to define a method <code>greet</code>. Let&rsquo;s do that:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="c1"># methods from above ...</span>

  <span class="k">def</span> <span class="nf">greet</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>If we run this code, we&rsquo;ll now get a new error message. Great, that&rsquo;s progress:</p>
<div class="highlight"><pre class="highlight plaintext"><code>ArgumentError: wrong number of arguments (1 for 0)
</code></pre></div>
<p>Right, how would one person greet another without knowing who that other person is?
So we need to make our method accept an argument:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="c1"># methods from above ...</span>

  <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>If we run this we won&rsquo;t see an error message any more. Yay! However, it also
does not print anything so far - our method does not do anything, yet.</p>

<p>Alright, let&rsquo;s add some actual behaviour, and print out &ldquo;Hi!&rdquo; for starters.</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="c1"># methods from above ...</span>

  <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"Hi!"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>What happens when you run that? It works, right. This should output <code>Hi!</code> to the screen.</p>

<p>However, how can Anja greet Carla, specifically? How can any person greet any
other person? Well, the method knows the person to greet (she has been passed
as an argument to the method) so she can ask her for her name:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="c1"># methods from above ...</span>

  <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"Hi "</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="nf">name</span> <span class="o">+</span> <span class="s2">"!"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Does this make sense?</p>

<p>Let&rsquo;s have another look at the full code:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">name</span>
    <span class="vi">@name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"Hi "</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="nf">name</span> <span class="o">+</span> <span class="s2">"!"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Anja"</span><span class="p">)</span>
<span class="n">friend</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Carla"</span><span class="p">)</span>

<span class="n">person</span><span class="p">.</span><span class="nf">greet</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</code></pre></div>
<p>So we instantiate two <code>Person</code> objects, and assign them two variables <code>person</code>
and <code>friend</code>. Then we call the method <code>greet</code> on the first one (Anja), and
pass the second one (<code>friend</code>, which is Carla) as an argument.</p>

<p>Now Ruby jumps into the method body of the method <code>greet</code>, and assigns the
local variable name <code>other</code> to the <code>Person</code> instance passed (i.e. Carla).</p>

<p>It then asks the <code>Person</code> instance <code>other</code> for their name (which will return
the String <code>&quot;Carla&quot;</code>, and concatenates it to (glues it together with) two other
strings <code>&quot;Hi &quot;</code> and <code>&quot;!&quot;</code>. So this results in a new String <code>Hi Carla!</code> which it
then passes to <code>puts</code>.</p>

<p>Ok, let&rsquo;s spice that up a little, and let Anja add her own name to this String,
too:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="c1"># methods from above ...</span>

  <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"Hi "</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="nf">name</span> <span class="o">+</span> <span class="s2">"! My name is "</span> <span class="o">+</span> <span class="nb">name</span> <span class="o">+</span> <span class="s2">"."</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Nice. This now outputs:</p>
<div class="highlight"><pre class="highlight plaintext"><code>Hi Carla! My name is Anja.
</code></pre></div>
<p>Remember how you could call the method <code>add_one</code> from another method <code>add_two</code>
<a href="/writing_methods/combining.html">before</a>? The same works here, too: We can
call the person&rsquo;s own method <code>name</code> by just using it, since this method is
defined on the same class, and thus every instance of <code>Person</code>. We&rsquo;ll look
at this a little more in the <a href="/writing_classes/self.html">next chapter</a>.</p>

<p>For now let&rsquo;s add another line at the end, and let Carla greet Anja back.</p>

<p>Again, here&rsquo;s the full code:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">name</span>
    <span class="vi">@name</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"Hi "</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="nf">name</span> <span class="o">+</span> <span class="s2">"! My name is "</span> <span class="o">+</span> <span class="nb">name</span> <span class="o">+</span> <span class="s2">"."</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Anja"</span><span class="p">)</span>
<span class="n">friend</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"Carla"</span><span class="p">)</span>

<span class="n">person</span><span class="p">.</span><span class="nf">greet</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
<span class="n">friend</span><span class="p">.</span><span class="nf">greet</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
</code></pre></div>
<p>And this outputs:</p>
<div class="highlight"><pre class="highlight plaintext"><code>Hi Carla! My name is Anja.
Hi Anja! My name is Carla.
</code></pre></div>
<p>What do you think?</p>

<p>Of course this is still quite a simplistic example. It already shows how you
can &ldquo;model&rdquo; a certain &ldquo;real-world&rdquo; concept in terms of Ruby code, instantiate
it, and let it interact with another thing.</p>

<p>By the way if you&rsquo;d like to see how to make the method <code>greet</code> more pretty,
and a little bit easier to read, check out the chapter on
<a href="/bonus/string_interpolation.html">String interpolation</a>.</p>

      </article>
    </div>

    <footer>
      <ul>
        <li><a href="http://rubymonstas.org">Ruby Monstas</a></li>
        <li><a href="http://ruby-for-beginners.rubymonstas.org">Ruby For Beginners</a></li>
        <li><a href="http://webapps-for-beginners.rubymonstas.org">Webapps For Beginners</a></li>
        <li><a href="http://testing-for-beginners.rubymonstas.org">Testing For Beginners</a></li>
        <li><a href="mailto:ruby.monsters@gmail.com">Email</a></li>
        <li><a href="https://twitter.com/rubymonstas">Twitter</a></li>
        <li><a href="https://github.com/rubymonsters">GitHub</a></li>
        <li><a href="https://creativecommons.org/licenses/by-sa/2.0/" rel="license cc:license">License</a></li>
        <li><a href="http://foundation.travis-ci.org/imprint/">Imprint</a></li>
      </ul>
    </footer>

    <script src="../assets/javascripts/modernizr-16671e9f.js"></script>
    <script src="../assets/javascripts/monstas-83702c28.js"></script>
  </body>
</html>
